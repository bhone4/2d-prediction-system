<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Prediction v2.1</title>
    <style>
        body{font-family:Arial;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}
        .container{background:#fff;border-radius:20px;padding:40px;max-width:500px;width:100%;box-shadow:0 20px 60px rgba(0,0,0,.3)}
        h1{color:#667eea;text-align:center;margin-bottom:20px}
        input{width:100%;padding:12px;margin:10px 0;border:2px solid #ddd;border-radius:10px;font-size:16px;box-sizing:border-box}
        button{width:100%;padding:15px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:18px;cursor:pointer;margin-top:10px}
        .results{margin-top:20px}
        .item{display:flex;justify-content:space-between;padding:15px;margin:10px 0;background:#f8f9fa;border-radius:10px}
        .number{font-size:20px;font-weight:bold;color:#667eea}
        .prob{font-size:18px;color:#764ba2;font-weight:bold}
        .msg{text-align:center;color:#667eea;padding:20px}
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ 2D Prediction</h1>
        <input type="date" id="date">
        <button onclick="predict()">üîÆ Get Predictions</button>
        <div id="results"></div>
    </div>
    <script>
        document.getElementById('date').value=new Date().toISOString().split('T')[0];
        async function predict(){
            const date=document.getElementById('date').value;
            const results=document.getElementById('results');
            results.innerHTML='<p class="msg">‚è≥ Loading...</p>';
            try{
                const res=await fetch('/predict',{
                    method:'POST',
                    headers:{'Content-Type':'application/json'},
                    body:JSON.stringify({date})
                });
                const data=await res.json();
                if(data.success){
                    let html='<div class="results">';
                    data.predictions.forEach((p,i)=>{
                        const label=p.range||p.number||'N/A';
                        const prob=p.percentage||(p.probability*100).toFixed(1)+'%';
                        html+=`<div class="item"><span class="number">#${i+1}: ${label}</span><span class="prob">${prob}</span></div>`;
                    });
                    html+='</div>';
                    results.innerHTML=html;
                }else{
                    results.innerHTML='<p class="msg" style="color:red;">‚ùå '+data.error+'</p>';
                }
            }catch(e){
                results.innerHTML='<p class="msg" style="color:red;">‚ùå Connection error!</p>';
            }
        }
    </script>
</body>
</html>



